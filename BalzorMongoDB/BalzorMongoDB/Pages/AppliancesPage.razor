@page "/AppliancesTable"
@using Radzen.Blazor
@using BalzorMongoDB.Data
@inject BalzorMongoDB.IService.IAppliances appliancesService

<PageTitle>Appliances Table</PageTitle>

<RadzenDataGrid Data="@Appliancess" TItem="Appliances" AllowSorting="true" AllowColumnReorder="true" AllowColumnPicking="true"
				AllowMultiColumnSorting="true" AllowFiltering="true">
	<Columns>
		<RadzenDataGridColumn TItem="Appliances" Property="ModelNameNum" Title="Model Name/No." />
		<RadzenDataGridColumn TItem="Appliances" Property="Manufacturer" Title="Manufacturer" />
		<RadzenDataGridColumn TItem="Appliances" Property="ApplianceName" Title="Appliance Name" />
		<RadzenDataGridColumn TItem="Appliances" Property="AppliancePrice" Title="Appliance Price" />
		<RadzenDataGridColumn TItem="Appliances" Property="YearConstructed" Title="Year Constructed" />
	</Columns>

</RadzenDataGrid>



@code {
	Appliances appliances = new Appliances();
	List<Appliances> Appliancess = new List<Appliances>();
	protected override async Task OnInitializedAsync()
	{
		GetAppliancess();
	}

	private void GetAppliancess()
	{
		Appliancess = appliancesService.GetAppliances();
	}

	private void Save()
	{
		appliancesService.SaveOrUpdate(appliances);
		Reset();
		GetAppliancess();
	}
	private void Reset()
	{
		appliances = new Appliances();
	}
	private void Edit(string appliancesId)
	{
		appliances = appliancesService.GetAppliance(appliancesId);
	}
	private void Delete(string appliancesId)
	{
		appliancesService.Delete(appliancesId);
		GetAppliancess();
	}
}